(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2830:function(e,t,r){Promise.resolve().then(r.bind(r,9787))},9787:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var n=r(7437),s={src:"/_next/static/media/logo.a14ca1ac.png",height:158,width:536,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAYAAABllJ3tAAAATUlEQVR4nGM0MzZrevL7GWOoTMQDbTErn/03Z5489f0xqxAzF+ff///uMRpZOBkyXNnHzhA3X+acormgwuqQSyK/2TT+MbG8Zfj/7w4Asmwcu2UomJQAAAAASUVORK5CYII=",blurWidth:8,blurHeight:2},l=r(703),i=r(4327),o=r.n(i),a=r(2265);r(3164);let c=(0,a.createContext)({}),u=e=>{let{children:t}=e,[r,s]=(0,a.useState)({tag:"div",styles:{},attributes:{className:"_root"},children:[{tag:"section",attributes:{className:"_section","data-position":"section-0"},styles:{}}]}),l=(0,a.useRef)(null);return console.log(r),(0,n.jsx)(c.Provider,{value:{doc:r,setDoc:s,rootDesignerRef:l},children:t})};var d=e=>{let{RenderedHTML:t,CustomTag:r,attributes:s,styles:l}=e,{doc:i,setDoc:o,rootDesignerRef:u}=(0,a.useContext)(c),[d,h]=(0,a.useState)({x:0,y:0,visibility:!0}),b=(0,a.useRef)(null),f=(0,a.useRef)(null),x=(0,a.useRef)(null),g=e=>{var t;let r=e.currentTarget;for(;"SECTION"!==r.tagName;){if(!r.parentElement)throw Error("Couldn't find the root section");r=r.parentElement}return parseInt((null===(t=r.getAttribute("data-position"))||void 0===t?void 0:t.split("-")[1])||"0")},m=(0,a.useRef)(new AbortController),p=e=>{if(console.log(e.clientY,e.pageY,e.offsetY,e.layerY,e.screenY,e.movementY,e.buttons),e.buttons<1){m.current.abort();return}f.current&&b.current&&(f.current.style.top=e.pageY-b.current.offsetTop+"px"),x.current&&b.current&&(x.current.style.height=e.pageY-b.current.offsetTop+"px")},j=()=>h(e=>({...e,visibility:!1}));return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"_contextMenu",onMouseEnter:j,onClick:j,tabIndex:-1,ref:b,onContextMenu:e=>{e.preventDefault(),e.stopPropagation(),h({x:e.clientX,y:e.clientY,visibility:!0})},children:(0,n.jsxs)(r,{ref:e=>x.current=e,style:{...l},...s,children:[t,(0,n.jsxs)("div",{className:"list_context flex flex-col",onClick:e=>e.stopPropagation(),style:{left:d.x,top:d.y,transformOrigin:"top",position:"fixed",transform:d.visibility?"":"scaleY(0)"},children:[(0,n.jsx)("button",{onClick:e=>{let t=g(e);if(!i.children)throw Error("Error in accessing root children");let r={...i.children[t]};r.children||(r.children=[]);let n=r.children,s="#";for(let e=0;e<3;e++){let e=Math.floor(16*Math.random());switch(e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:s+=e;break;case 10:s+="A";break;case 11:s+="B";break;case 12:s+="C";break;case 13:s+="D";break;case 14:s+="E";break;case 15:s+="F"}}n.push({tag:"div",attributes:{className:"item"},styles:{width:"100%",minHeight:"2rem",height:"100%",backgroundColor:s},children:[{tag:"span",attributes:{"data-index":"".concat(n.length),className:"_horizontalSize"},styles:{}}]}),r.styles={minHeight:"4rem",display:"grid",gridTemplateColumns:n.map(e=>"".concat(100/n.length,"%")).join(" ")},o(e=>{if(!e.children)return e;let n=[...e.children];return n[t]=r,{...e,children:n}})},children:"split - container"}),(0,n.jsx)("button",{onClick:e=>{let t=g(e);o(e=>{let r=[...e.children||[]],n=r.slice(0,t+1);n.push({tag:"section",attributes:{className:"_section","data-position":"section-".concat(t+1)},styles:{}});let s=r.slice(t+1).map((e,r)=>({...e,attributes:{...e.attributes,"data-position":"section-"+(t+r+2)}}));return n.push(...s),{...e,children:[...n]}})},children:"Add - container"}),(0,n.jsx)("button",{children:"Add paragraph"}),(0,n.jsx)("button",{children:"Add Heading"}),(0,n.jsx)("button",{children:"Add image"}),(0,n.jsx)("button",{children:"Add Twitter"}),(0,n.jsx)("button",{children:"Add Facebook"}),(0,n.jsx)("button",{children:"Add LinkedIN"}),(0,n.jsx)("button",{children:"Add Embedings"})]}),(0,n.jsx)("span",{ref:f,style:{zIndex:9e3},className:"sizeHandleVertical",onMouseDown:()=>{var e;m.current.abort(),m.current=new AbortController,null===(e=u.current)||void 0===e||e.addEventListener("mousemove",p,{signal:m.current.signal})},onMouseUp:()=>{m.current.abort()}})]})})})},h=e=>{let{children:t,CustomTag:r,RenderedHTML:s,attributes:l,styles:i}=e,{rootDesignerRef:o}=(0,a.useContext)(c),u=(0,a.useRef)(null),d=u.current,h=(0,a.useRef)(null),b=(0,a.useRef)(null),f=(0,a.useRef)(null),x=(0,a.useRef)(new AbortController),g=(0,a.useRef)(new AbortController),m=e=>{if(!(f.current&&b.current&&h.current&&l))return;let t=parseInt(l["data-index"]),r=f.current.style.gridTemplateColumns.split(" ").map(e=>parseFloat(e.slice(0,-1))),n=r.slice(0,t+1).reduce((e,t)=>e+t,0),s=f.current.getClientRects()[0],i=parseFloat(Math.abs((e.pageX-s.x)/s.width*100-n).toFixed(2)+"5"),o=b.current.getClientRects()[0];e.pageX<o.width+o.x?(r[t]-=i,r[t+1]+=i):(r[t]+=i,r[t+1]-=i);let a=r.map(e=>e+"%").join(" ");f.current.style.gridTemplateColumns=a,u.current&&(u.current.style.left=""),x.current.abort(),g.current.abort()},p=e=>{var t;if(e.buttons<1){x.current.abort();return}let r=null===(t=b.current)||void 0===t?void 0:t.getClientRects()[0].x;u.current&&h.current&&r&&(u.current.style.left=e.pageX-r+"px")};return(0,a.useEffect)(()=>{if(d){let e=d.parentElement,t=!1,r=!1,n=!1;for(;e&&!e.classList.contains("_designer")&&(e.classList.contains("_section")&&(f.current=e,t=!0),e.classList.contains("_contextMenu")&&(h.current=e,r=!0),e.classList.contains("item")&&(b.current=e,n=!0),!t||!r||!n);)e=e.parentElement}},[d]),console.log(d),(0,n.jsx)(r,{ref:e=>u.current=e,style:i,onMouseDown:()=>{var e,t;x.current.abort(),g.current.abort(),x.current=new AbortController,g.current=new AbortController,null===(e=o.current)||void 0===e||e.addEventListener("mousemove",p,{signal:x.current.signal}),null===(t=o.current)||void 0===t||t.addEventListener("mouseup",m,{signal:g.current.signal})},...l,children:t})};function b(e){let{doc:{tag:t,text:r,html:s,attributes:l,styles:i,children:o}}=e;if(s)return(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:s}});let a=(0,n.jsxs)(n.Fragment,{children:[r,o&&o.map((e,t)=>(0,n.jsx)(b,{doc:e},t))]});return(0,n.jsx)(n.Fragment,{children:"section"===t?(0,n.jsx)(d,{CustomTag:t,styles:i,attributes:l,RenderedHTML:a,children:a}):l&&"_horizontalSize"===l.className?(0,n.jsx)(h,{CustomTag:t,styles:i,attributes:l,RenderedHTML:a,children:a}):(0,n.jsx)(t,{style:i,...l,children:a})})}function f(){let{doc:e,rootDesignerRef:t}=(0,a.useContext)(c);return(0,n.jsx)("div",{className:"_designer bg-teal-700 h-[1000%]",ref:t,children:(0,n.jsx)(b,{doc:e})})}function x(){let[e,t]=(0,a.useState)("");return(0,a.useEffect)(()=>{t(window.location.href)},[]),(0,n.jsx)(u,{children:(0,n.jsxs)("div",{className:"_rootwraper",children:[(0,n.jsxs)("div",{className:"_header flex flex-row justify-around items-center bg-[#33e352]",children:[(0,n.jsx)(l.default,{src:s,className:o().logo,alt:"Logo"}),(0,n.jsx)("menu",{children:(0,n.jsx)("button",{children:"Menu"})}),(0,n.jsx)("div",{className:"rounded-lg min-w-[40%] text-center border-gray-400 border-2",children:e}),(0,n.jsx)("button",{children:"Preview"}),(0,n.jsx)("button",{children:"Publish"}),(0,n.jsx)("button",{className:"rounded-full",children:"Desktop"}),(0,n.jsx)("button",{className:"rounded-full",children:"Mobile"}),(0,n.jsx)("menu",{children:(0,n.jsx)("button",{className:"rounded-full",children:"User"})})]}),(0,n.jsx)("div",{className:"_mainblock m-5 h-[100vh]",children:(0,n.jsx)(f,{})})]})})}},3164:function(){},4327:function(e){e.exports={logo:"basestyles_logo__fJemM"}}},function(e){e.O(0,[703,971,69,744],function(){return e(e.s=2830)}),_N_E=e.O()}]);